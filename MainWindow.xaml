<Window x:Class="WPF_Project.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"        
        xmlns:local="clr-namespace:WPF_Project"
        xmlns:Views="clr-namespace:WPF_Project.Views"    
        xmlns:vm="clr-namespace:WPF_Project.ViewModel"
        xmlns:m="clr-namespace:Microsoft.Maps.MapControl.WPF;assembly=Microsoft.Maps.MapControl.WPF"            
        mc:Ignorable="d"
        Title="FlightGear Simulator" Height="450" Width="800" Closed="Window_Closed">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="10*"/>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0" Background="LightGray">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="10*"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>
            <Button Content="{Binding VM_ConnectionButton, Mode=OneWay}" Grid.Column="0"  Click="Button_Click" BorderBrush="#FFEEEEEE" Background="#FF454545" Foreground="White"/>
            <Viewbox Grid.Column="1">
                <TextBlock TextWrapping="Wrap" Text="FlightGear Simulator" FontWeight="Bold"/>
            </Viewbox>
            <Button Content="Settings" Grid.Column="2" BorderBrush="#FFEEEEEE" Background="#FF454545" Foreground="White"/>
        </Grid>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="50*"/>
            </Grid.ColumnDefinitions>
            <Grid Grid.Column="0" Background="#243665">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="12*"/>
                </Grid.RowDefinitions>
                <Viewbox Grid.Row="0">
                    <TextBlock TextWrapping="Wrap" Text="Map" FontWeight="Bold" Foreground="#8BD8BD"/>
                </Viewbox>
                <Grid Grid.Row="1">
                    <TextBox x:Name="VisibilityMode" Text="{Binding VM_VisibilityOfMap, Mode=OneWay}" Visibility="Hidden" TextChanged="VisibilityMode_TextChanged"/>
                    <m:Map x:Name="Map" Mode="Road" CredentialsProvider="AgaQmHHnv60XlDswbLa6YTuKKX8RqzUoV1XdINhXuOgXQgv9c6YiY22ZqwsKoE6l" ZoomLevel="0" BorderThickness="5" Background="#243665">
                        <m:Pushpin Location="{Binding VM_Location, Mode=OneWay}">
                            <Canvas Width="15" Height="15">
                                <Image Source="/src/airplane.png" Width="15" Height="15" RenderTransformOrigin="0.5,0.5">
                                    <Image.RenderTransform>
                                        <TransformGroup>
                                            <!--Assuming HeadingDeg returns the angle correctly (360 deg system and clockwise) -->
                                            <RotateTransform Angle="{Binding VM_IndicatedHeadingDeg, Mode=OneWay}"/>
                                            <TranslateTransform/>
                                        </TransformGroup>
                                    </Image.RenderTransform>
                                </Image>
                            </Canvas>
                        </m:Pushpin>
                    </m:Map>
                    <Viewbox Stretch="Fill">
                        <Image x:Name="Pikachu" Source="/src/pikachu.jpg" Visibility="Hidden" Margin="5"/>
                    </Viewbox>
                </Grid>
            </Grid>
            <Grid Grid.Column="1" Background="LightGray"/>
            <Grid Grid.Column="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid Grid.Row="0" Background="#8C9C9A">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="5*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="35*"/>
                    </Grid.RowDefinitions>
                    <Viewbox Grid.Row="0">
                        <TextBlock TextWrapping="Wrap" Text="Dashboard" FontWeight="Bold" Foreground="#A31E39"/>
                    </Viewbox>
                    <Grid Grid.Row="2">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Viewbox Grid.Row="0" Grid.Column="0" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="heading-deg" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="1" Grid.Column="0" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="gps_vertical-speed" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="2" Grid.Column="0" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="gps_ground-speed" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="3" Grid.Column="0" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="indicated-speed" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="0" Grid.Column="2" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="gps_altitude-ft" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="1" Grid.Column="2" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="internal-roll-deg" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="2" Grid.Column="2" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="internal-pitch-deg" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="3" Grid.Column="2" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="altimeter_altitude-ft" Foreground="#A31E39"/>
                        </Viewbox>

                        <Viewbox Grid.Row="0" Grid.Column="1" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="{Binding VM_IndicatedHeadingDeg, Mode=OneWay}" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="1" Grid.Column="1" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="{Binding VM_GpsIndicatedVerticalSpeed, Mode=OneWay}" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="2" Grid.Column="1" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="{Binding VM_GpsIndicatedGroundSpeedKt, Mode=OneWay}" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="3" Grid.Column="1" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="{Binding VM_AirspeedIndicatorIndicatedSpeedKt, Mode=OneWay}" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="0" Grid.Column="3" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="{Binding VM_GpsIndicatedAltitudeFt, Mode=OneWay}" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="1" Grid.Column="3" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="{Binding VM_AttitudeIndicatorInternalRollDeg, Mode=OneWay}" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="2" Grid.Column="3" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="{Binding VM_AttitudeIndicatorInternalPitchDeg, Mode=OneWay}" Foreground="#A31E39"/>
                        </Viewbox>
                        <Viewbox Grid.Row="3" Grid.Column="3" Margin="5">
                            <TextBlock TextWrapping="Wrap" Text="{Binding VM_AltimeterIndicatedAltitudeFt, Mode=OneWay}" Foreground="#A31E39"/>
                        </Viewbox>
                    </Grid>
                </Grid>
                <Grid Grid.Row="1" Background="#66FCF1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="5*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="35*"/>
                    </Grid.RowDefinitions>
                    <Viewbox Grid.Row="0">
                        <TextBlock TextWrapping="Wrap" Text="Controllers" FontWeight="Bold" Foreground="#FF101457"/>
                    </Viewbox>
                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Viewbox Grid.Column="0" Stretch="Uniform" Margin="0,5,5,5">
                            <Views:Joystick x:Name="myJoystick"/>
                        </Viewbox>
                        <Grid Grid.Column="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="2*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="2*"/>
                            </Grid.RowDefinitions>
                            <Viewbox Grid.Row="0" Margin="0">
                                <TextBlock TextWrapping="Wrap" Text="Aileron" FontWeight="Bold" Foreground="#FF101457"/>
                            </Viewbox>
                            <Slider Grid.Row="1"
                                    VerticalAlignment="Center"
                                    x:Name="aileronSlider"  
                                    Minimum="-1" 
                                    Maximum="1"
                                    Value="{Binding VM_Aileron, Mode=TwoWay}"
                                    TickFrequency="0.1"
                                    AutoToolTipPrecision="2"
                                    AutoToolTipPlacement="TopLeft"
                                    TickPlacement="BottomRight"
                                    ValueChanged="aileronSlider_ValueChanged"                             
                                    Background="#FF101457"
                                    LargeChange="0.1"
                                    SmallChange="0.1" Margin="5,10,5,0"/>
                            <Viewbox Grid.Row="2">
                                <TextBlock TextWrapping="Wrap" Text="Throttle" FontWeight="Bold" Foreground="#FF101457"/>
                            </Viewbox>
                            <Slider Grid.Row="3"
                                    VerticalAlignment="Center"
                                    x:Name="throttleSlider"  
                                    Minimum="0" 
                                    Maximum="1"
                                    Value="{Binding VM_Throttle, Mode=TwoWay}"
                                    TickFrequency="0.05"
                                    AutoToolTipPrecision="2"
                                    AutoToolTipPlacement="TopLeft"
                                    TickPlacement="BottomRight"
                                    ValueChanged="throttleSlider_ValueChanged"                                          
                                    Background="#FF101457"
                                    LargeChange="0.05"
                                    SmallChange="0.05" Margin="5,10,5,0"/>
                        </Grid>
                    </Grid>
                </Grid>
            </Grid>
        </Grid>
    </Grid>
</Window>
